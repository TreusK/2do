(()=>{"use strict";var e={337:(e,t,r)=>{e.exports=r.p+"ec883566fe146393adc5.png"},517:(e,t,r)=>{e.exports=r.p+"f0f8c380cc7535888f0d.png"}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,r),i.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e=r(337),t=r(517);let o=document.querySelector("#todosContainer"),n=document.querySelector("#containerForm"),i=document.querySelector("#newTodoBtn"),c=document.querySelector("#newProjectBtn"),a=document.querySelector("#newProjectInput"),d=document.querySelector("#deleteCurrentProject"),l=document.querySelector("#projectsContainer"),s=document.querySelector("#form"),p=document.querySelector("#titleInput"),u=document.querySelector("#descriptionInput"),m=document.querySelector("#lowRadio"),g=document.querySelector("#normalRadio"),f=document.querySelector("#urgentRadio"),h=JSON.parse(localStorage.getItem("todosArr"))||[{description:"Anki, web novels and 2 ep of anime",priority:"normal",title:"Study Japanese",checked:!1,project:"Today"},{description:"Tomato egg salad, 10/10",priority:"low",title:"Eat veggies",checked:!0,project:"Today"},{description:"Get the axe, sharpen it and let Bibi know I'll be back tomorrow",priority:"urgent",title:"Kill that bear",checked:!1,project:"Today"}],y=JSON.parse(localStorage.getItem("projectsArr"))||["Today","Personal","Family"],S="Today",v=-1,k=!0;function w(e,t,r,o){let n=document.createElement(e);if("div"==e?n.classList.add(t):"img"==e?n.src=t:"p"==e&&(n.textContent=t),"todoCheckbox"==t){let e=o.priority;n.classList.add("level"+e)}return"todoTitle"==t&&(n.textContent=o.title),"projectBtn"==t&&(n.textContent="."+o),"todo"==t||"todoTop"==t||"todoBottom"==t||n.addEventListener("click",r),n}const j=(()=>{function r(){o.innerHTML=""}function n(e){s.classList.add("editing"),L.showForm();let t=e.target.parentElement.parentElement.id.slice(5);switch(v=t,k=h[t].checked,p.value=h[t].title,u.value=h[t].description,h[t].priority){case"normal":g.checked=!0;break;case"urgent":f.checked=!0;break;default:m.checked=!0}}function i(e){let t=e.target.parentElement.parentElement.id.slice(5);h.splice(t,1),r(),localStorage.setItem("todosArr",JSON.stringify(h)),l()}function c(e){e.target.parentElement.nextElementSibling.classList.toggle("todoBottomShow")}function a(e){e.target.parentElement.classList.toggle("todoBottomShow")}function d(e){let t=+e.target.parentElement.parentElement.id.slice(5);h[t].checked?h[t].checked=!1:h[t].checked=!0,r(),localStorage.setItem("todosArr",JSON.stringify(h)),l()}function l(){let r=[];h.map(((o,l)=>r.push(function(r,o){let l=w("div","todo"),s=w("div","todoTop"),p=w("div","todoBottom"),u=w("div","todoCheckbox",d,r),m=w("div","todoTitle",c,r),g=w("img",e,i),f=w("img",t,n),h=w("p",r.description,a);return r.checked&&(u.textContent="X",m.style.textDecoration="line-through"),s.append(u),s.append(m),s.append(f),s.append(g),p.append(h),l.append(s),l.append(p),l.classList.add(r.project),l.id="index"+o,l}(o,l)))),r.filter((e=>e.classList[1]==S)).map((e=>o.append(e)))}return{reset:r,renderArr:l}})(),L={formToObj:function(e,t){return{title:e[0].value,description:e[1].value,priority:t.value,checked:!1,project:S}},hideForm:function(){n.classList.remove("showMe")},showForm:function(){n.classList.add("showMe")}},T=(()=>{function e(e){e.target;let o=e.target.textContent.slice(1);S=o,t(),localStorage.setItem("projectsArr",JSON.stringify(y)),r(),j.reset(),localStorage.setItem("todosArr",JSON.stringify(h)),j.renderArr()}function t(){l.innerHTML=""}function r(){y.map((t=>l.append(function(t){let r=w("div","projectBtn",e,t);return t==S&&r.classList.add("projectBtnSelected"),r}(t))))}return{newProjectBtnClick:function(){a.classList.toggle("hideMe"),a.focus()},newProjectInputEnter:function(e){if("Enter"==e.key){let e=a.value;y.includes(e)?alert("That name is already in use"):(y.push(e),t(),localStorage.setItem("projectsArr",JSON.stringify(y)),r(),a.classList.toggle("hideMe"),a.value="")}},deleteProject:function(){if("Today"==S)alert("Sorry, you can't delete the Today project");else if(confirm("This will delete the "+S+" project and ALL ITS TODOS, are you sure?")){let e=y.indexOf(S);y.splice(e,1),h=h.filter((e=>e.project!==S)),S="Today",t(),localStorage.setItem("projectsArr",JSON.stringify(y)),r(),j.reset(),localStorage.setItem("todosArr",JSON.stringify(h)),j.renderArr()}},renderArr:r,reset:t}})();i.addEventListener("click",(e=>L.showForm())),n.addEventListener("click",(e=>{"containerForm"==e.target.id&&L.hideForm()})),s.addEventListener("submit",(e=>{e.preventDefault();let t=e.target.elements,r=document.querySelector("input[type='radio']:checked"),o=L.formToObj(t,r);"editing"==e.target.classList[0]?(o.checked=k,h.splice(v,1,o),e.target.classList.remove("editing")):h.push(o),j.reset(),localStorage.setItem("todosArr",JSON.stringify(h)),j.renderArr(),L.hideForm(),s.reset()})),c.addEventListener("click",T.newProjectBtnClick),a.addEventListener("keydown",T.newProjectInputEnter),d.addEventListener("click",T.deleteProject),j.renderArr(),T.renderArr()})()})();